<head>
    <script src="/bundle.js"></script>
    <script src="/assets/js/modules/submissionPreview.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-sanitize.js"></script>
</head>
<div class="row"
     ng-app="previewApp"
     ng-controller="previewCtrl"
     ng-init="init()">
    <div class="column">

        <div class="details">

            <div class="details-side">
                <div class="vote">
                    <a class="fi-like" id="submission-upvote-button"></a>

                    <span class="score" id="submission-score">{[{notebook.score}]}</span>

                    <a class="fi-dislike" id="submission-downvote-button"></a>

                </div>

            </div>

            <div class="details-main">

                <div class="details-header">

                    <div class="details-title">

                        <h1 class="title">{[{notebook.title}]}</h1>

                        <ul class="topics">
                            <li ng-repeat="topic in notebook.topicList"><a>{[{topic}]}</a></li>
                        </ul>

                    </div>

                    <div class="details-counts">

                        <div class="counts">
                            <ul>
                                <li class="views"><span class="count">{[{notebook.views}]}</span> Views</li>
                                <li class="comments"><span class="count">0</span> Comments</li>
                                <li class="votes"><span class="count">{[{notebook.score}]}</span> Votes</li>
                            </ul>
                        </div>

                    </div>

                </div>

                <div class="details-body">

                    <div class="details-primary">

                        <p marked="summary"></p>

                    </div>

                    <div class="details-secondary">

                        <div class="side">

                            <p class="avatar"><a><img src={[{author.avatar}]}></a></p>

                        </div>

                        <div class="main">

                            <ul class="specs">
                                <li><span>Author:</span> <a>{[{author.name}]}</a></li>
                                <li ng-show="notebook.coAuthors.length"><span>Co-authors:</span>
                                    <!--todo: use coAuthor.name? what about for email authors?-->
                                    <a ng-repeat="coAuthor in notebook.coAuthors">{[{coAuthor}]}</a>
                                </li>
                                <li ng-show="!notebook.coAuthors.length"><span>Co-authors:</span>
                                    <p>None</p>
                                </li>
                                <li><span>Language:</span> <a>{[{notebook.lang}]}</a></li>
                                <li><span>Published:</span> {[{notebook.published | date: 'd MMM yyyy'}]}</li>
                                <li><span>Last update:</span> {[{notebook.lastUpdated | date: 'd MMM yyyy'}]}</li>
                            </ul>

                        </div>

                    </div>

                </div>

            </div>

        </div>

        <div class="tile">

            <!--Notebook-->
            <div class="tile-header">

                <h2 class="tile-title">Notebook</h2>

            </div>

            <div ng-bind-html="notebook.notebook"></div>

        </div>
        <ul class="button-row">
            <li>
                <a class="alt" ng-click="onCancel()">Cancel</a>
            </li>
            <li>
                <button type="submit" ng-click="onSubmit()">
                    Submit
                </button>
            </li>
        </ul>
    </div>
</div>